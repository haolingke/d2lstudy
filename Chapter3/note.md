在 PyTorch 中，张量的高级索引机制允许使用多个索引数组来选择特定元素。代码 `y_hat[[0, 1], y]` 使用了这种高级索引规则，具体解释如下：

### 张量定义
首先，我们有以下两个张量：

```python
y = torch.tensor([0, 2])
y_hat = torch.tensor([[0.1, 0.3, 0.6], [0.3, 0.2, 0.5]])
```

### 索引操作
```python
print(y_hat[[0, 1], y])
```

这行代码中的索引操作 `y_hat[[0, 1], y]` 使用了两个张量 `[0, 1]` 和 `y` 作为索引。具体来说：

- `[0, 1]` 是行索引张量，表示选择第 0 行和第 1 行。
- `y` 是列索引张量，表示选择第 0 行的第 0 列元素和第 1 行的第 2 列元素。

为了更清楚地解释这个操作，可以将索引操作分解如下：

1. **行索引**：`[0, 1]` 表示选择第 0 行和第 1 行。
2. **列索引**：`y`（即 `[0, 2]`）表示第 0 行的第 0 列元素和第 1 行的第 2 列元素。

高级索引的工作方式是同时应用行索引和列索引。具体的选择步骤如下：

- 行索引 0 和列索引 0，对应的元素是 `y_hat[0, 0]`，即 `0.1`。
- 行索引 1 和列索引 2，对应的元素是 `y_hat[1, 2]`，即 `0.5`。

所以，`y_hat[[0, 1], y]` 实际上选择了以下元素：

- `y_hat[0, 0]`，即 `0.1`
- `y_hat[1, 2]`，即 `0.5`

### 结果
结果是一个包含这两个元素的新张量：

```python
tensor([0.1000, 0.5000])
```

### 总结
`y_hat[[0, 1], y]` 这种索引方式可以理解为从 `y_hat` 中选择由行索引 `[0, 1]` 和列索引 `[0, 2]` 指定的元素，最终返回一个新的张量：

- 行索引和列索引的第一个元素组合：`y_hat[0, 0]` -> `0.1`
- 行索引和列索引的第二个元素组合：`y_hat[1, 2]` -> `0.5`

因此，`y_hat[[0, 1], y]` 的结果是 `tensor([0.1000, 0.5000])`。